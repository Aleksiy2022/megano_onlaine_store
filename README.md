# Проект Megano
Интернет-магазин Megano.

## Описание
Предтавляет собой подключаемое django-приложение. Берет на себя все что связано с отображением страниц, а обращение 
за данными происходит по API. 

## Контракт для API
Названия роутов и ожидаемую структуру ответа от API endpoints можно найти в `megano/swagger/MeganoAPI.yaml`.

## Установка и запуск проекта

1. Установите Docker на вашей машине, если он еще не установлен. Подробные инструкции доступны по ссылке: 
Docker Installation Guide (https://docs.docker.com/get-docker/)

2. После успешной установки Docker, чтобы развернуть проект, находясь в корневой дирректории проекта выполните 
следующую команду: `docker compose up`.

Начнется сборка необходимых Docker-образов, установит необходимые зависимости для проекта, выполнит миграции, 
создаст контейнеры для присутствующих сервисов, включая Postgresql, Adminer, Celery, Flower, RabbitMQ, 
настроит и запустит их в соответствии с файлом `docker-compose.yml`, который находится в корневой директории 
проекта. Вы можете открыть его и настроить параметры по своему усмотрению.

Страртовая страница доступна по адресу 'http://127.0.0.1:8000/'


## Компоненты проекта

Проект использует следующие компоненты.

- Postgresql 
- Adminer:
  - движок: PostgreSQL 
  - cервер: db 
  - имя пользователя: postgres 
  - пароль: !1234QWER 
  - база данных: megano
- Celery: очередь задач.
- Flower: визуальная панель управления для Celery. Доступен по адресу: 'http://127.0.0.1:5555/'
- RabbitMQ: посредник сообщений. Доступен по адресу: 'http://127.0.0.1:15672/' 
  - username: guest 
  - password: guest

### Использование фикстур
Фикстуру с тестовыми данными можно найти в `megano/megano_data.json`.
Для заполнения БД тестовыми данными, воспользуйтесь командой `docker exec -it python_django_diploma-megano-1 bash`,
вы попадете в bash сессию контейнера проекта, далее выполните команду `python manage.py loaddata megano_data.json`

#### В указанной тестовой базе 2 пользователя:

| Роль пользователя | user      | password  |
|-------------------|-----------|-----------|
| superuser         | admin     | !1234QWER |
| user              | Aleksey   | !1234QWER |
